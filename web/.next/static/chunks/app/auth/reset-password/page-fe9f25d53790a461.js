(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[48],{4683:function(e,r,t){Promise.resolve().then(t.bind(t,6529))},959:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(8720).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},3729:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(8720).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6057:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(8720).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7368:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(8720).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},8746:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(8720).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4511:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(8720).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},3548:function(e,r,t){"use strict";var s=t(8743);t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},6529:function(e,r,t){"use strict";t.r(r);var s=t(2118),a=t(1722),o=t(3548),n=t(5247),l=t(959),i=t(3729),d=t(6057),c=t(4511),u=t(7368),m=t(8746),h=t(1621),f=t(2925),x=t(2574);function w(){let e=(0,o.useSearchParams)(),[r,t]=(0,a.useState)({password:"",confirmPassword:""}),[w,p]=(0,a.useState)({}),[b,g]=(0,a.useState)(!1),[y,v]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[k,P]=(0,a.useState)(!1),[Z,S]=(0,a.useState)(null),[z,C]=(0,a.useState)(null);(0,a.useEffect)(()=>{let r=e.get("token");r?(S(r),E(r)):p({token:"Invalid or missing reset token"})},[e]);let E=async e=>{try{C(!0)}catch(e){C(!1),p({token:"Invalid or expired reset token"})}},R=()=>{let e={};return r.password?r.password.length<8?e.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(r.password)||(e.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):e.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",p(e),0===Object.keys(e).length},_=async e=>{if(e.preventDefault(),R()&&Z){N(!0),p({});try{var t;let e=await x.x.post("/trpc/auth.resetPassword",{token:Z,newPassword:r.password});(null===(t=e.result)||void 0===t?void 0:t.data)&&P(!0)}catch(e){console.error("Reset password error:",e),p({submit:e.message||"Failed to reset password. Please try again."})}finally{N(!1)}}},A=(e,r)=>{t(t=>({...t,[e]:r})),w[e]&&p(r=>({...r,[e]:void 0}))};return null!==z||w.token?!1===z||w.token?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-emerald-900/20 to-yellow-900/20 flex items-center justify-center p-4",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-black/40 backdrop-blur-md border border-red-500/30 rounded-2xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(l.Z,{className:"w-8 h-8 text-red-400"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Invalid Reset Link"}),(0,s.jsx)("p",{className:"text-gray-300 mb-8",children:"This password reset link is invalid or has expired. Please request a new one."}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(h.default,{href:"/auth/forgot-password",children:(0,s.jsx)(f.z,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:"Request New Reset Link"})}),(0,s.jsx)(h.default,{href:"/auth/login",children:(0,s.jsxs)(f.z,{variant:"ghost",className:"w-full text-gray-400 hover:text-white",children:[(0,s.jsx)(i.Z,{className:"w-4 h-4 mr-2"}),"Back to Login"]})})]})]})}):k?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-emerald-900/20 to-yellow-900/20 flex items-center justify-center p-4",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-black/40 backdrop-blur-md border border-emerald-500/30 rounded-2xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,s.jsx)(d.Z,{className:"w-8 h-8 text-emerald-400"})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Password Reset Successfully"}),(0,s.jsx)("p",{className:"text-gray-300 mb-8",children:"Your password has been updated successfully. You can now log in with your new password."}),(0,s.jsx)(h.default,{href:"/auth/login",children:(0,s.jsx)(f.z,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:"Continue to Login"})})]})}):(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-emerald-900/20 to-yellow-900/20 flex items-center justify-center p-4",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-[url('/api/placeholder/1920/1080')] bg-cover bg-center opacity-10"}),(0,s.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative bg-black/40 backdrop-blur-md border border-emerald-500/30 rounded-2xl p-8 max-w-md w-full",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(c.Z,{className:"w-8 h-8 text-emerald-400"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Set New Password"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Please enter your new password below"})]}),(0,s.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{id:"password",type:b?"text":"password",value:r.password,onChange:e=>A("password",e.target.value),className:"w-full pl-12 pr-12 py-3 bg-black/50 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 transition-all ".concat(w.password?"border-red-500 focus:ring-red-500/50":"border-gray-600 focus:ring-emerald-500/50 focus:border-emerald-500"),placeholder:"Enter new password",disabled:j,"aria-invalid":w.password?"true":"false","aria-describedby":w.password?"password-error password-requirements":"password-requirements",autoComplete:"new-password"}),(0,s.jsx)("button",{type:"button",onClick:()=>g(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors","aria-label":b?"Hide password":"Show password",children:b?(0,s.jsx)(u.Z,{className:"w-5 h-5"}):(0,s.jsx)(m.Z,{className:"w-5 h-5"})})]}),(0,s.jsx)("p",{id:"password-requirements",className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters with uppercase, lowercase, and number"}),w.password&&(0,s.jsx)("p",{id:"password-error",className:"mt-2 text-sm text-red-400",role:"alert",children:w.password})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,s.jsx)("input",{id:"confirmPassword",type:y?"text":"password",value:r.confirmPassword,onChange:e=>A("confirmPassword",e.target.value),className:"w-full pl-12 pr-12 py-3 bg-black/50 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 transition-all ".concat(w.confirmPassword?"border-red-500 focus:ring-red-500/50":"border-gray-600 focus:ring-emerald-500/50 focus:border-emerald-500"),placeholder:"Confirm new password",disabled:j,"aria-invalid":w.confirmPassword?"true":"false","aria-describedby":w.confirmPassword?"confirm-password-error":void 0,autoComplete:"new-password"}),(0,s.jsx)("button",{type:"button",onClick:()=>v(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors","aria-label":y?"Hide confirm password":"Show confirm password",children:y?(0,s.jsx)(u.Z,{className:"w-5 h-5"}):(0,s.jsx)(m.Z,{className:"w-5 h-5"})})]}),w.confirmPassword&&(0,s.jsx)("p",{id:"confirm-password-error",className:"mt-2 text-sm text-red-400",role:"alert",children:w.confirmPassword})]}),w.submit&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,s.jsx)("p",{className:"text-red-400 text-sm",role:"alert",children:w.submit})}),(0,s.jsx)(f.z,{type:"submit",disabled:j,className:"w-full bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center",children:j?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Resetting Password..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Z,{className:"w-5 h-5 mr-2"}),"Reset Password"]})})]}),(0,s.jsx)("div",{className:"mt-8 text-center",children:(0,s.jsxs)("p",{className:"text-gray-400",children:["Remember your password?"," ",(0,s.jsx)(h.default,{href:"/auth/login",className:"text-emerald-400 hover:text-emerald-300 font-medium transition-colors",children:"Sign in here"})]})})]})]}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-emerald-900/20 to-yellow-900/20 flex items-center justify-center p-4",children:(0,s.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-black/40 backdrop-blur-md border border-emerald-500/30 rounded-2xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-emerald-400 mx-auto mb-6"}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-white mb-2",children:"Verifying Reset Token"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Please wait while we validate your reset link..."})]})})}r.default=function(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-400"})}),children:(0,s.jsx)(w,{})})}},2925:function(e,r,t){"use strict";t.d(r,{z:function(){return d}});var s=t(2118),a=t(1722),o=t(5033),n=t(9908),l=t(3735);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gang:"bg-gradient-to-r from-gang-red to-gang-blue text-white hover:from-gang-red/90 hover:to-gang-blue/90 shadow-lg shadow-gang-red/20",neon:"bg-transparent border-2 border-gang-neon text-gang-neon hover:bg-gang-neon hover:text-black shadow-[0_0_15px_rgba(0,255,255,0.5)] hover:shadow-[0_0_25px_rgba(0,255,255,0.8)] transition-all duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:n,asChild:d=!1,...c}=e,u=d?o.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(i({variant:a,size:n,className:t})),ref:r,...c})});d.displayName="Button"},2574:function(e,r,t){"use strict";function s(){let e="http://localhost:22005";console.log("Environment NEXT_PUBLIC_BACKEND_URL:",e);{let r=e||"http://localhost:22005";return console.log("Browser base URL:",r),r}}t.d(r,{x:function(){return a}}),(0,t(5980).ec)();let a={async post(e,r,t){let a=await fetch("".concat(s()).concat(e),{method:"POST",headers:{"Content-Type":"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:JSON.stringify(r)}),o=await a.json();if(!a.ok){var n;throw Error((null===(n=o.error)||void 0===n?void 0:n.message)||"API call failed: ".concat(a.statusText))}return o},async get(e,r){let t=s(),a="".concat(t).concat(e);console.log("Attempting API call to:",a);let o=await fetch(a,{method:"GET",headers:{"Content-Type":"application/json",...r&&{Authorization:"Bearer ".concat(r)}}}),n=await o.json();if(!o.ok){var l;throw Error((null===(l=n.error)||void 0===l?void 0:l.message)||"API call failed: ".concat(o.statusText))}return n},async getStats(){let e="".concat(s(),"/api/stats");console.log("Fetching stats from:",e);let r=await fetch(e);if(!r.ok)throw Error("Stats API failed: ".concat(r.status," ").concat(r.statusText));return r.json()}}},3735:function(e,r,t){"use strict";t.d(r,{cn:function(){return o}});var s=t(5662),a=t(4590);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}}},function(e){e.O(0,[596,621,247,980,512,423,744],function(){return e(e.s=4683)}),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{3328:function(e,r,t){Promise.resolve().then(t.bind(t,6171))},3729:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(8720).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7368:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(8720).Z)("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]])},8746:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(8720).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4511:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(8720).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9493:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(8720).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},6504:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(8720).Z)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},8257:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});let a=(0,t(8720).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},6171:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var a=t(2118),s=t(1722),o=t(5247),n=t(6504),l=t(3729);let i=(0,t(8720).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var c=t(8257),d=t(9493),u=t(4511),m=t(7368),h=t(8746),f=t(1621),g=t(2925),x=t(5034);function b(){let{register:e}=(0,x.a)(),[r,t]=(0,s.useState)({username:"",email:"",password:"",confirmPassword:"",agreeToTerms:!1,subscribeNewsletter:!1}),[b,p]=(0,s.useState)({}),[y,w]=(0,s.useState)(!1),[v,j]=(0,s.useState)(!1),[N,k]=(0,s.useState)(!1),[P,T]=(0,s.useState)(!1),S=()=>{let e={};return r.username.trim()?r.username.length<3?e.username="Username must be at least 3 characters":r.username.length>20?e.username="Username must be less than 20 characters":/^[a-zA-Z0-9_-]+$/.test(r.username)||(e.username="Username can only contain letters, numbers, hyphens, and underscores"):e.username="Username is required",r.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)||(e.email="Please enter a valid email address"):e.email="Email is required",r.password?r.password.length<8?e.password="Password must be at least 8 characters":/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(r.password)||(e.password="Password must contain at least one uppercase letter, one lowercase letter, and one number"):e.password="Password is required",r.confirmPassword?r.password!==r.confirmPassword&&(e.confirmPassword="Passwords do not match"):e.confirmPassword="Please confirm your password",r.agreeToTerms||(e.agreeToTerms="You must agree to the Terms of Service and Privacy Policy"),p(e),0===Object.keys(e).length},Z=async t=>{if(t.preventDefault(),S()){k(!0),p({});try{await e(r.username,r.email,r.password),T(!0)}catch(e){console.error("Registration error:",e),p({submit:e instanceof Error?e.message:"Registration failed. Please try again."})}finally{k(!1)}}},C=(e,r)=>{t(t=>({...t,[e]:r})),b[e]&&p(r=>({...r,[e]:void 0}))};return P?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-emerald-900/20 to-yellow-900/20 flex items-center justify-center p-4",children:(0,a.jsxs)(o.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-black/40 backdrop-blur-md border border-emerald-500/30 rounded-2xl p-8 max-w-md w-full text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(n.Z,{className:"w-8 h-8 text-emerald-400"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Welcome to GangGPT!"}),(0,a.jsx)("p",{className:"text-gray-300 mb-8",children:"Your account has been created successfully. Please check your email to verify your account before logging in."}),(0,a.jsx)(f.default,{href:"/auth/login",children:(0,a.jsx)(g.z,{className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white",children:"Go to Login"})})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-zinc-900 via-emerald-900/20 to-yellow-900/20 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-[url('/api/placeholder/1920/1080')] bg-cover bg-center opacity-10"}),(0,a.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"relative bg-black/40 backdrop-blur-md border border-emerald-500/30 rounded-2xl p-8 max-w-md w-full",children:[(0,a.jsxs)(f.default,{href:"/auth/login",className:"inline-flex items-center text-gray-400 hover:text-emerald-400 transition-colors mb-6",children:[(0,a.jsx)(l.Z,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(i,{className:"w-8 h-8 text-emerald-400"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Join GangGPT"}),(0,a.jsx)("p",{className:"text-gray-400",children:"Create your account and enter the virtual world"})]}),(0,a.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-2",children:"Username"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{id:"username",type:"text",value:r.username,onChange:e=>C("username",e.target.value),className:"w-full pl-12 pr-4 py-3 bg-black/50 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 transition-all ".concat(b.username?"border-red-500 focus:ring-red-500/50":"border-gray-600 focus:ring-emerald-500/50 focus:border-emerald-500"),placeholder:"Choose a username",disabled:N,"aria-invalid":b.username?"true":"false","aria-describedby":b.username?"username-error":void 0})]}),b.username&&(0,a.jsx)("p",{id:"username-error",className:"mt-2 text-sm text-red-400",role:"alert",children:b.username})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-2",children:"Email Address"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(d.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{id:"email",type:"email",value:r.email,onChange:e=>C("email",e.target.value),className:"w-full pl-12 pr-4 py-3 bg-black/50 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 transition-all ".concat(b.email?"border-red-500 focus:ring-red-500/50":"border-gray-600 focus:ring-emerald-500/50 focus:border-emerald-500"),placeholder:"Enter your email",disabled:N,"aria-invalid":b.email?"true":"false","aria-describedby":b.email?"email-error":void 0})]}),b.email&&(0,a.jsx)("p",{id:"email-error",className:"mt-2 text-sm text-red-400",role:"alert",children:b.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-2",children:"Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{id:"password",type:y?"text":"password",value:r.password,onChange:e=>C("password",e.target.value),className:"w-full pl-12 pr-12 py-3 bg-black/50 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 transition-all ".concat(b.password?"border-red-500 focus:ring-red-500/50":"border-gray-600 focus:ring-emerald-500/50 focus:border-emerald-500"),placeholder:"Create a password",disabled:N,"aria-invalid":b.password?"true":"false","aria-describedby":b.password?"password-error password-requirements":"password-requirements"}),(0,a.jsx)("button",{type:"button",onClick:()=>w(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors","aria-label":y?"Hide password":"Show password",children:y?(0,a.jsx)(m.Z,{className:"w-5 h-5"}):(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]}),(0,a.jsx)("p",{id:"password-requirements",className:"mt-1 text-xs text-gray-500",children:"Must be at least 8 characters with uppercase, lowercase, and number"}),b.password&&(0,a.jsx)("p",{id:"password-error",className:"mt-2 text-sm text-red-400",role:"alert",children:b.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirm Password"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(u.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,a.jsx)("input",{id:"confirmPassword",type:v?"text":"password",value:r.confirmPassword,onChange:e=>C("confirmPassword",e.target.value),className:"w-full pl-12 pr-12 py-3 bg-black/50 border rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 transition-all ".concat(b.confirmPassword?"border-red-500 focus:ring-red-500/50":"border-gray-600 focus:ring-emerald-500/50 focus:border-emerald-500"),placeholder:"Confirm your password",disabled:N,"aria-invalid":b.confirmPassword?"true":"false","aria-describedby":b.confirmPassword?"confirm-password-error":void 0}),(0,a.jsx)("button",{type:"button",onClick:()=>j(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors","aria-label":v?"Hide confirm password":"Show confirm password",children:v?(0,a.jsx)(m.Z,{className:"w-5 h-5"}):(0,a.jsx)(h.Z,{className:"w-5 h-5"})})]}),b.confirmPassword&&(0,a.jsx)("p",{id:"confirm-password-error",className:"mt-2 text-sm text-red-400",role:"alert",children:b.confirmPassword})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.agreeToTerms,onChange:e=>C("agreeToTerms",e.target.checked),className:"mt-0.5 w-5 h-5 text-emerald-600 bg-black/50 border-gray-600 rounded focus:ring-emerald-500 focus:ring-2",disabled:N,"aria-invalid":b.agreeToTerms?"true":"false","aria-describedby":b.agreeToTerms?"terms-error":void 0}),(0,a.jsxs)("span",{className:"text-sm text-gray-300",children:["I agree to the"," ",(0,a.jsx)(f.default,{href:"/legal/terms",className:"text-emerald-400 hover:text-emerald-300 underline",children:"Terms of Service"})," ","and"," ",(0,a.jsx)(f.default,{href:"/legal/privacy",className:"text-emerald-400 hover:text-emerald-300 underline",children:"Privacy Policy"})]})]}),b.agreeToTerms&&(0,a.jsx)("p",{id:"terms-error",className:"text-sm text-red-400",role:"alert",children:b.agreeToTerms}),(0,a.jsxs)("label",{className:"flex items-start space-x-3 cursor-pointer",children:[(0,a.jsx)("input",{type:"checkbox",checked:r.subscribeNewsletter,onChange:e=>C("subscribeNewsletter",e.target.checked),className:"mt-0.5 w-5 h-5 text-emerald-600 bg-black/50 border-gray-600 rounded focus:ring-emerald-500 focus:ring-2",disabled:N}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"Subscribe to newsletter for updates and exclusive content"})]})]}),b.submit&&(0,a.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:(0,a.jsx)("p",{className:"text-red-400 text-sm",role:"alert",children:b.submit})}),(0,a.jsx)(g.z,{type:"submit",disabled:N,className:"w-full bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 px-4 rounded-lg transition-all duration-200 flex items-center justify-center",children:N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Creating Account..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i,{className:"w-5 h-5 mr-2"}),"Create Account"]})})]}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsxs)("p",{className:"text-gray-400",children:["Already have an account?"," ",(0,a.jsx)(f.default,{href:"/auth/login",className:"text-emerald-400 hover:text-emerald-300 font-medium transition-colors",children:"Sign in here"})]})})]})]})}},2925:function(e,r,t){"use strict";t.d(r,{z:function(){return c}});var a=t(2118),s=t(1722),o=t(5033),n=t(9908),l=t(3735);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",gang:"bg-gradient-to-r from-gang-red to-gang-blue text-white hover:from-gang-red/90 hover:to-gang-blue/90 shadow-lg shadow-gang-red/20",neon:"bg-transparent border-2 border-gang-neon text-gang-neon hover:bg-gang-neon hover:text-black shadow-[0_0_15px_rgba(0,255,255,0.5)] hover:shadow-[0_0_25px_rgba(0,255,255,0.8)] transition-all duration-300"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef((e,r)=>{let{className:t,variant:s,size:n,asChild:c=!1,...d}=e,u=c?o.g7:"button";return(0,a.jsx)(u,{className:(0,l.cn)(i({variant:s,size:n,className:t})),ref:r,...d})});c.displayName="Button"},5034:function(e,r,t){"use strict";t.d(r,{H:function(){return l},a:function(){return i}});var a=t(2118),s=t(1722),o=t(2574);let n=(0,s.createContext)(void 0);function l(e){let{children:r}=e,[t,l]=(0,s.useState)(null),[i,c]=(0,s.useState)(!0),[d,u]=(0,s.useState)(null);(0,s.useEffect)(()=>{let e=localStorage.getItem("auth-token");e?m(e):c(!1)},[]);let m=async e=>{try{var r,t;let a=await o.x.get("/trpc/auth.me",e);(null===(t=a.result)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.user)?l(a.result.data.user):localStorage.removeItem("auth-token")}catch(e){console.error("Auth check failed:",e),localStorage.removeItem("auth-token")}finally{c(!1)}},h=async(e,r)=>{try{var t;u(null),c(!0);let a=await o.x.post("/trpc/auth.login",{identifier:e,password:r});if(null===(t=a.result)||void 0===t?void 0:t.data){let{user:e,accessToken:r}=a.result.data;localStorage.setItem("auth-token",r),l(e)}}catch(e){throw u(e.message||"Login failed"),e}finally{c(!1)}},f=async(e,r,t)=>{try{var a;u(null),c(!0);let s=await o.x.post("/trpc/auth.register",{username:e,email:r,password:t});if(null===(a=s.result)||void 0===a?void 0:a.data){let{user:e,accessToken:r}=s.result.data;localStorage.setItem("auth-token",r),l(e)}}catch(e){throw u(e.message||"Registration failed"),e}finally{c(!1)}},g=async()=>{try{let e=localStorage.getItem("auth-token");e&&await o.x.get("/trpc/auth.logout",e)}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("auth-token"),l(null),u(null)}};return(0,a.jsx)(n.Provider,{value:{user:t,login:h,register:f,logout:g,loading:i,error:d},children:r})}function i(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2574:function(e,r,t){"use strict";function a(){let e="http://localhost:22005";console.log("Environment NEXT_PUBLIC_BACKEND_URL:",e);{let r=e||"http://localhost:22005";return console.log("Browser base URL:",r),r}}t.d(r,{x:function(){return s}}),(0,t(5980).ec)();let s={async post(e,r,t){let s=await fetch("".concat(a()).concat(e),{method:"POST",headers:{"Content-Type":"application/json",...t&&{Authorization:"Bearer ".concat(t)}},body:JSON.stringify(r)}),o=await s.json();if(!s.ok){var n;throw Error((null===(n=o.error)||void 0===n?void 0:n.message)||"API call failed: ".concat(s.statusText))}return o},async get(e,r){let t=a(),s="".concat(t).concat(e);console.log("Attempting API call to:",s);let o=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json",...r&&{Authorization:"Bearer ".concat(r)}}}),n=await o.json();if(!o.ok){var l;throw Error((null===(l=n.error)||void 0===l?void 0:l.message)||"API call failed: ".concat(o.statusText))}return n},async getStats(){let e="".concat(a(),"/api/stats");console.log("Fetching stats from:",e);let r=await fetch(e);if(!r.ok)throw Error("Stats API failed: ".concat(r.status," ").concat(r.statusText));return r.json()}}},3735:function(e,r,t){"use strict";t.d(r,{cn:function(){return o}});var a=t(5662),s=t(4590);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}}},function(e){e.O(0,[596,621,247,980,512,423,744],function(){return e(e.s=3328)}),_N_E=e.O()}]);